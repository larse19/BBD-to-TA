<?xml version="1.0" encoding="utf-8"?>
    <!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
    <nta>
<declaration>
clock x;
struct {
	bool fixed;
	bool picked_and_placed;
} object;

struct {
	bool open;
	bool closed;
} gripper;

struct {
	bool fixed;
	bool picked_and_placed;
} Object_A;

struct {
	bool open;
	bool closed;
} Gripper_A;

struct {
	bool fixed;
	bool picked_and_placed;
} Object_B;

struct {
	bool open;
	bool closed;
} Gripper_B;

struct {
	bool fixed;
	bool picked_and_placed;
} Object_C;

struct {
	bool open;
	bool closed;
} Gripper_C;

struct {
	bool fixed;
	bool picked_and_placed;
} Object_D;

struct {
	bool open;
	bool closed;
} Gripper_D;

int position;
int remaining_object_amount=1;
chan press_start;
chan press_Five;
chan press_Open_Gripper;
chan press_Ten;
chan press_reset;</declaration>
<template>
	<name>robot</name>
	<location id="id0" x="0" y="0"> 
        <name x="20" y="0">default</name>
	</location>
	<location id="id1" x="200" y="0"> 
        <name x="220" y="0">select_mode</name>
		<committed/>
	</location>
	<init ref="id0"/>
	<transition><source ref="id1"/><target ref="id0"/>
	<label kind="assignment" x="100" y="50">Object_A.picked_and_placed := true</label>
	<label kind="synchronisation" x="100" y="70">press_Five?</label>
	<nail x="190" y="50"/>
	<nail x="10" y="50"/>
</transition>
	<transition><source ref="id1"/><target ref="id0"/>
	<label kind="assignment" x="100" y="100">Object_B.picked_and_placed := true</label>
	<label kind="synchronisation" x="100" y="120">press_Open_Gripper?</label>
	<nail x="190" y="100"/>
	<nail x="10" y="100"/>
</transition>
	<transition><source ref="id1"/><target ref="id0"/>
	<label kind="assignment" x="100" y="150">Object_C.picked_and_placed := true,
remaining_object_amount := 0</label>
	<label kind="synchronisation" x="100" y="190">press_Ten?</label>
	<nail x="190" y="150"/>
	<nail x="10" y="150"/>
</transition>
	<transition><source ref="id0"/><target ref="id1"/>
	<label kind="synchronisation" x="100" y="-70">press_start?</label>
	<label kind="guard" x="100" y="-90">remaining_object_amount == 1</label>
	<nail x="10" y="-50"/>
	<nail x="190" y="-50"/>
</transition>
	<transition><source ref="id0"/><target ref="id0"/>
	<label kind="synchronisation" x="0" y="-20">press_reset?</label>
	<label kind="assignment" x="0" y="-40">remaining_object_amount := 1,
Object_A.picked_and_placed := false,
Object_B.picked_and_placed := false,
Object_C.picked_and_placed := false,
Object_D.picked_and_placed := false</label>
</transition>
</template>
<template>
	<name>user</name>
	<location id="id0" x="0" y="0"> 
        <name x="20" y="0">default</name>
	</location>
	<location id="id1" x="200" y="0"> 
        <name x="220" y="0">select_mode</name>
		<committed/>
	</location>
	<init ref="id0"/>
	<transition><source ref="id1"/><target ref="id0"/>
	<label kind="synchronisation" x="100" y="50">press_Five!</label>
	<nail x="190" y="50"/>
	<nail x="10" y="50"/>
</transition>
	<transition><source ref="id1"/><target ref="id0"/>
	<label kind="synchronisation" x="100" y="100">press_Open_Gripper!</label>
	<nail x="190" y="100"/>
	<nail x="10" y="100"/>
</transition>
	<transition><source ref="id1"/><target ref="id0"/>
	<label kind="synchronisation" x="100" y="150">press_Ten!</label>
	<nail x="190" y="150"/>
	<nail x="10" y="150"/>
</transition>
	<transition><source ref="id0"/><target ref="id1"/>
	<label kind="synchronisation" x="100" y="-70">press_start!</label>
	<nail x="10" y="-50"/>
	<nail x="190" y="-50"/>
</transition>
	<transition><source ref="id0"/><target ref="id0"/>
	<label kind="synchronisation" x="0" y="-20">press_reset!</label>
</transition>
</template>
<system>
system robot,user;
</system>

    <queries>
    
        <query>
            <formula>( robot.default  and user.select_mode) --> ( robot.select_mode )</formula>
			<comment>Robot_turns_on</comment>
        </query>
        
        <query>
            <formula>( Object_A.fixed  and  Gripper_A.open  and  robot.default  and user.default) --> ( Object_A.picked_and_placed  and  robot.default )</formula>
			<comment>Robot_placing_the_object_within_a_time_frame_of_5_seconds</comment>
        </query>
        
        <query>
            <formula>( Object_B.fixed  and  Gripper_B.closed  and  robot.default  and user.default) --> ( Object_B.picked_and_placed  and  robot.default )</formula>
			<comment>Robot_simultaneously_performing_multiple_actions</comment>
        </query>
        
        <query>
            <formula>( Object_C.fixed  and  Gripper_C.open  and  robot.default  and  None.remaining_object_amount == 1  and user.default) --> ( Object_C.picked_and_placed  and  None.remaining_object_amount == 0  and  robot.default )</formula>
			<comment>Verifying_the_quantity_of_objects_left_to_grasp</comment>
        </query>
        
        <query>
            <formula>( Object_D.fixed  and  Gripper_D.open  and  robot.default  and  None.remaining_object_amount &gt; 0  and user.select_mode) --> ( Object_D.picked_and_placed  and  robot.default )</formula>
			<comment>Verifying_the_presence_of_objects_still_available_for_grasping</comment>
        </query>
        
        <query>
            <formula>( robot.default  and  None.remaining_object_amount == 0  and user.default) --> ( None.remaining_object_amount == 1  and not Object_A.picked_and_placed  and not Object_B.picked_and_placed  and not Object_C.picked_and_placed  and not Object_D.picked_and_placed  and  robot.default )</formula>
			<comment>reset_scene</comment>
        </query>
        
    </queries>
    </nta>